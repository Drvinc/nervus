<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style type="text/css">
    span {
      border: 1px black solid;
      color: black;
      text-align: center;
      height: 20px;
      width: 20px;
      float: left;
    }
    .clear {
      clear: both;
    }
  </style>
</head>
<body>
  <form name="form1" action="post" action="/action_page.php">
   <p id="seats">          
   </p><div class="clear"></div>
   <p>
    <button name="findseat" type="button" onclick="arrSeat()">劃位</button>
   </p>
  </form>
  <script type="text/javascript">
    /* Create spans */
    for (var i=0; i < seats.length; i++){
      var s = document.createElement('span'); s.getAttribute("id",(i+1));
      
    };
    /* Set initial seats */
    var seats = [0,0,1,1,0,1,0,0,0,1,1,0,0,1,0];
    for (var i=0; i < seats.length; i++){
      document.getElementById(i+1).innerHTML = seats[i];
    };
    /* arrange seat function */
    function arrSeat() {
      var chain = 0;
      for (var i=0; i < seats.length; i++){
        isVacant = 1-seats[i];
        if (isVacant == 0) {chain = 0} 
        else if (isVacant == 1) {chain = chain + 1};
        if (chain == 3) {
          var j = 0;
          while (j <= 2) {
           var ID = (i+1-j);
           document.getElementById(ID).style.color = "red";
           document.getElementById(ID).style.backgroundColor = "yellow"; 
           j++;
          }
        };
      }
    }
  </script>
</body>
</html>